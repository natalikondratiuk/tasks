<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>Task10</title>
</head>
<body>
	<h1>Знайти неперевний підмасив, сума якого максимальна</h1>
	<script type="text/javascript">
		function testArr() {
			let arr = [-1, 2, 3, -9];
			let maxSum = getMaxSubSum(arr);
			alert("Перший спосіб реалізації алгоритма" +
				"\nПочатковий масив: " + arr +
				"\nМаксимальна сума: " + maxSum);
		} // testArr

		function testArr2() {
			let arr = [-1, 2, 3, -9];
			let max= maxSum(arr);
			alert("Другий спосіб реалізації алгоритма" +
				"\nПочатковий масив: " + arr +
				"\nМаксимальна сума: " + max);
			
		} // testArr2

		function getMaxSubSum(arr) {
			// Перший спосіб реалізації алгоритма
			let sum = 0; // якщо елементів немає, то повертаємо 0
			for(let i = 0; i < arr.length; i++){
				let sumStart = 0; // починаємо шукати суму підмасивів
				for(let j = i; j < arr.length; j++){
					sumStart += arr[j];
					if (sumStart > sum){
						sum = sumStart;
					} // if (якщо сума поточного підмасиву більша за максимальну суму, то це і є - новий максимум)
				} // for j (рахує підсуму, починаючи з поточного елемента)
			} // for i (перебирає елементи масива)
			return sum;
		} // getMaxSubSum

		function maxSum(arr){
			// алгоритм з книги «Жемчужины программирования» Джона Бентли (1984)

			let maxSum = [0]; // масив максимальних сум
			for (let i = 0; i < arr.length; i++){
				let tmp = maxSum[maxSum.length-1] + arr[i]; // останній елемент
				if (tmp < 0) tmp = 0; // якщо від'ємне значення - не враховуємо
				maxSum.push(tmp); // заповнюємо масив сум
			} // for i
		return Math.max.apply( null, maxSum );
			
			
		} // maxSum
	</script>
	<button onclick="testArr()">getMaxSubSumMy</button>
	<button onclick="testArr2()">maxSumPerfect</button>
</body>
</html>